- [x] Convert minimally to TS
- [ ] Add types
- [ ] Further refactorings